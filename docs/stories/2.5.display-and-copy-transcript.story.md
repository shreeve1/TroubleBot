# Story 2.5: Display and Copy Transcript

## Status
Draft

## Story
**As a** technician who has confirmed an escalation,
**I want** to see the generated smart transcript and be able to easily copy it to my clipboard,
**so that** I can paste it into my ticketing system.

## Acceptance Criteria
1. After clicking "Yes", the frontend calls the transcript endpoint.
2. The summary is displayed in a read-only view.
3. A "Copy to Clipboard" button is present and functional.
4. A confirmation message is shown on copy.

## Tasks / Subtasks
- [ ] Integrate with transcript endpoint (AC: 1)
  - [ ] Connect escalation modal to transcript API
  - [ ] Send chat history to generate-transcript endpoint
  - [ ] Handle API response and errors
  - [ ] Add loading state during generation
- [ ] Create transcript display component (AC: 2)
  - [ ] Create read-only text area component
  - [ ] Style transcript display according to design
  - [ ] Add proper typography and spacing
  - [ ] Ensure accessibility compliance
- [ ] Implement copy to clipboard (AC: 3)
  - [ ] Add copy button component
  - [ ] Implement clipboard API integration
  - [ ] Handle clipboard permissions
  - [ ] Add fallback for older browsers
- [ ] Add confirmation feedback (AC: 4)
  - [ ] Create success notification component
  - [ ] Show confirmation message on copy
  - [ ] Add visual feedback for button state
  - [ ] Handle copy failure scenarios
- [ ] Integrate with escalation flow
  - [ ] Update escalation modal to show transcript
  - [ ] Handle modal state transitions
  - [ ] Add close functionality
  - [ ] Test complete escalation flow
- [ ] Add comprehensive testing
  - [ ] Unit tests for components
  - [ ] Integration tests for API calls
  - [ ] E2E tests for copy functionality
  - [ ] Accessibility testing

## Dev Notes

### Tech Stack Context
- **Frontend Framework**: Next.js ~14.2.3 for React framework [Source: architecture/tech-stack.md]
- **UI Component Library**: Headless UI ~2.0.4 for unstyled, accessible components [Source: architecture/tech-stack.md]
- **CSS Framework**: Tailwind CSS ~3.4.3 for utility-first styling [Source: architecture/tech-stack.md]
- **State Management**: React Hooks & Context ~18.3.1 for local state [Source: architecture/tech-stack.md]

### Project Structure Requirements
- Components in apps/web/components/ [Source: architecture/frontend-architecture.md]
- Services: apiClient.ts for API calls [Source: architecture/frontend-architecture.md]
- Chat UI View component [Source: architecture/components.md]
- API Client Service for transcript calls [Source: architecture/components.md]

### Testing Standards
- **Frontend Testing**: Jest & React Testing Library ~29.7.0 [Source: architecture/tech-stack.md]
- **E2E Testing**: Playwright ~1.44.1 for clipboard testing [Source: architecture/tech-stack.md]
- Multi-layered strategy following "testing pyramid" [Source: architecture/testing-strategy.md]

### File Locations
- apps/web/components/TranscriptDisplay.tsx: Transcript display component
- apps/web/components/CopyButton.tsx: Copy to clipboard button
- apps/web/components/EscalationModal.tsx: Updated escalation modal
- apps/web/services/apiClient.ts: API client for transcript calls
- apps/web/utils/clipboard.ts: Clipboard utility functions

### Technical Constraints
- No authentication required [Source: architecture/tech-stack.md]
- No database required (stateless) [Source: architecture/tech-stack.md]
- Components must be accessible [Source: architecture/tech-stack.md]
- Clipboard API requires HTTPS in production
- Must handle clipboard permissions gracefully

### Previous Story Insights
- Backend transcript generation endpoint ready
- Escalation modal system implemented
- API client service available
- Full UI design applied

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2024-12-19 | 1.0 | Initial story creation | Bob (SM) |

## Dev Agent Record

### Agent Model Used
TBD

### Debug Log References
TBD

### Completion Notes List
TBD

### File List
TBD

## QA Results
TBD 